---
id: fcdc72fd-058f-7c16-0c28-e4ead8e12e32
title: repositories.rs
author: system
file_path: src/db/repositories.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:05:32.013730500Z
updated_at: 2026-02-03T08:05:32.013730500Z
---

//! Repository and git data database queries.
//!
//! Handles connected git repositories, commits, and pull requests.

use crate::{Error, Result};
use serde::{Deserialize, Serialize};
use sqlx::FromRow;

use super::DbPool;
use super::projects::GitProvider;

// ============================================================================
// Repository Types
// ============================================================================

/// Repository record from the database.
#[derive(Debug, Clone, FromRow, Serialize, Deserialize)]
pub struct Repository {
    pub id: String,
    pub project_id: String,
    pub provider: String,
    pub owner: String,
    pub repo: String,
    pub branch: String,
    pub source_type: Option<String>,
    pub source_config: Option<String>,
    pub notification_type: Option<String>,
    pub webhook_id: Option<String>,
    pub webhook_secret: Option<String>,
    pub access_token: String,
    pub last_indexed_at: Option<String>,