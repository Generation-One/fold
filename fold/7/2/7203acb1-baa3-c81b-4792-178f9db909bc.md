---
id: 7203acb1-baa3-c81b-4792-178f9db909bc
title: pool.rs
author: system
file_path: src/db/pool.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:05:24.840263200Z
updated_at: 2026-02-03T08:05:24.840263200Z
---

//! SQLite connection pool configuration and utilities.
//!
//! This module provides additional pool management utilities
//! beyond the basic init_pool() in mod.rs.

use crate::Result;
use sqlx::sqlite::{SqliteConnectOptions, SqliteJournalMode, SqlitePoolOptions, SqliteSynchronous};
use std::str::FromStr;
use std::time::Duration;

/// Pool configuration options.
#[derive(Debug, Clone)]
pub struct PoolConfig {
    /// Maximum number of connections in the pool.
    pub max_connections: u32,
    /// Minimum number of connections to maintain.
    pub min_connections: u32,
    /// Timeout for acquiring a connection.
    pub acquire_timeout: Duration,
    /// Maximum idle time before a connection is closed.
    pub idle_timeout: Option<Duration>,
    /// Maximum lifetime of a connection.
    pub max_lifetime: Option<Duration>,
    /// SQLite busy timeout.
    pub busy_timeout: Duration,
    /// Cache size in KB (negative values).
    pub cache_size_kb: i64,
    //