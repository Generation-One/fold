---
id: 2060c1f7-a3f8-0f1c-d3d2-058fc33d1864
title: projects.rs
author: system
file_path: src/db/projects.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:05:26.539464200Z
updated_at: 2026-02-03T08:05:26.539464200Z
---

//! Project database queries.
//!
//! Projects are the top-level organizational unit in Fold.

use crate::{Error, Result};
use serde::{Deserialize, Serialize};
use sqlx::FromRow;

use super::DbPool;

// ============================================================================
// Types
// ============================================================================

/// Metadata repository sync mode.
#[derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum MetadataRepoMode {
    /// Sync to a separate repository
    Separate,
    /// Sync to a path within the source repository
    InRepo,
}

impl MetadataRepoMode {
    pub fn as_str(&self) -> &'static str {
        match self {
            Self::Separate => "separate",
            Self::InRepo => "in_repo",
        }
    }

    pub fn from_str(s: &str) -> Option<Self> {
        match s {
            "separate" => Some(Self::Separate),
         