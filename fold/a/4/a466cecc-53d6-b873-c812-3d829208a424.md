---
id: a466cecc-53d6-b873-c812-3d829208a424
title: gitlab.rs
author: system
file_path: src/services/gitlab.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:06:37.156903800Z
updated_at: 2026-02-03T08:06:37.156903800Z
---

//! GitLab service for repository operations.
//!
//! Provides API access to GitLab for:
//! - Repository information
//! - File content retrieval
//! - Webhook registration
//! - Commit fetching

use std::time::Duration;

use reqwest::{Client, header};
use serde::{Deserialize, Serialize};
use tracing::info;

use crate::error::{Error, Result};
use crate::models::{CommitFile, CommitInfo};

const GITLAB_API_URL: &str = "https://gitlab.com/api/v4";

/// Service for GitLab API operations.
#[derive(Clone)]
pub struct GitLabService {
    client: Client,
    base_url: String,
}

/// GitLab project info
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ProjectInfo {
    pub id: i64,
    pub name: String,
    pub path_with_namespace: String,
    pub description: Option<String>,
    pub default_branch: String,
    pub visibility: String,
    pub web_url: String,
    pub http_url_to_repo: String,
}

/// GitLab file content
#[derive(Debug, Clone, Se