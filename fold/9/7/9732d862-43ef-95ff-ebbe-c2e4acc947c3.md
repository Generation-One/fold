---
id: 9732d862-43ef-95ff-ebbe-c2e4acc947c3
title: Hash-based Storage Service for Fold Directory Memory Persistence
author: system
tags:
- service
- storage
- async
- file-persistence
- serialization
- memory-management
file_path: src/services/fold_storage.rs
language: rust
memory_type: codebase
original_date: 2026-02-02
created_at: 2026-02-03T08:42:12.234525900Z
updated_at: 2026-02-03T08:42:12.234525900Z
---

This file implements a storage service for persisting memories as markdown files in a hash-based directory structure within the fold/ directory. It provides serialization/deserialization of memory objects to/from YAML frontmatter-formatted markdown files, handling metadata extraction, file I/O operations, and conversion between in-memory Memory models and persistent file representations. The service uses an async Tokio-based approach for file operations and implements a structured frontmatter format to maintain rich metadata alongside memory content.