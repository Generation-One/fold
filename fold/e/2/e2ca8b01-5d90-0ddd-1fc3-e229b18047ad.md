---
id: e2ca8b01-5d90-0ddd-1fc3-e229b18047ad
title: Database Integration Tests for Fold Server
author: system
tags:
- test
- database
- async
- integration-test
- user-management
- project-management
file_path: tests/db_integration.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:47:32.603292500Z
updated_at: 2026-02-03T08:47:32.603292500Z
---

This file contains comprehensive integration tests for the Fold server's database layer, specifically testing CRUD operations against an SQLite in-memory database. It validates database functionality including project management, user creation, API token handling, sessions, and workspaces through isolated test cases that each run migrations independently. The test suite uses helper functions to set up various database states (empty, with projects, with users) and follows a pattern of async/await testing with the tokio runtime.