---
id: e2f3b69e-11a9-15d7-b890-abb83ef4ada8
title: MCP Integration Tests for Fold Server
author: system
tags:
- test
- async
- database
- http
- auth
- api
file_path: tests/mcp_integration.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:48:14.264264Z
updated_at: 2026-02-03T08:48:14.264264Z
---

This file contains comprehensive integration tests for the MCP (Model Context Protocol) JSON-RPC endpoint implementation in the Fold server. It verifies JSON-RPC 2.0 protocol compliance, validates all 11 MCP tools functionality, tests error handling for invalid requests, and ensures response formats match the MCP specification. The test suite uses helper functions to set up test databases, create test users with API tokens, and build properly formatted JSON-RPC requests to validate the server's MCP endpoint behavior.