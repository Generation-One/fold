---
id: eb4507dc-555f-a396-0310-a0e4bcc34813
title: memory.rs
author: system
file_path: src/models/memory.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:05:53.395968900Z
updated_at: 2026-02-03T08:05:53.395968900Z
---

//! Memory model for storing project knowledge.

use chrono::{DateTime, Utc};
use serde::{Deserialize, Serialize};
use sqlx::FromRow;
use std::collections::HashMap;

/// Source of a memory - how it was created.
#[derive(Debug, Clone, Copy, PartialEq, Eq, Serialize, Deserialize)]
#[serde(rename_all = "snake_case")]
pub enum MemorySource {
    /// Created by an AI agent (Claude, etc)
    Agent,
    /// Indexed from a source file
    File,
    /// Derived from git history (commits, PRs)
    Git,
}

impl MemorySource {
    pub fn as_str(&self) -> &'static str {
        match self {
            MemorySource::Agent => "agent",
            MemorySource::File => "file",
            MemorySource::Git => "git",
        }
    }

    pub fn from_str(s: &str) -> Option<Self> {
        match s.to_lowercase().as_str() {
            "agent" => Some(MemorySource::Agent),
            "file" => Some(MemorySource::File),
            "git" => Some(MemorySource::Git),
      