---
id: ee81057a-04f4-ba0e-29d1-ea136c2de161
title: local.rs
author: system
file_path: src/services/file_source/local.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:06:23.719295200Z
updated_at: 2026-02-03T08:06:23.719295200Z
---

//! Local filesystem file source provider.
//!
//! Provides file source operations for local directories.

use async_trait::async_trait;
use chrono::{DateTime, Utc};
use std::path::PathBuf;
use tokio::fs;

use super::{
    ChangeDetectionResult, ChangeEvent, FileContent, FileInfo, FileSourceProvider,
    NotificationConfig, NotificationType, SourceConfig, SourceInfo,
};
use crate::error::Result;

/// Local filesystem file source provider.
pub struct LocalFileSource {
    base_path: Option<PathBuf>,
}

impl LocalFileSource {
    /// Create a new local file source.
    pub fn new() -> Self {
        Self { base_path: None }
    }

    /// Create a local file source with a base path.
    pub fn with_base_path(base_path: PathBuf) -> Self {
        Self {
            base_path: Some(base_path),
        }
    }

    /// Resolve a path relative to the source.
    fn resolve_path(&self, source: &SourceInfo, path: &str) -> PathBuf {
        let base = self
  