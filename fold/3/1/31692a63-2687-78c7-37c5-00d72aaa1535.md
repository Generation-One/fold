---
id: 31692a63-2687-78c7-37c5-00d72aaa1535
title: MCP (Model Context Protocol) HTTP API Routes and Session Management
author: system
tags:
- api
- async
- http
- auth
- streaming
- protocol
file_path: src/api/mcp.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:31:42.325765600Z
updated_at: 2026-02-03T08:31:42.325765600Z
---

This file implements the Model Context Protocol (MCP) Streamable HTTP transport layer, providing JSON-RPC 2.0 endpoints for AI assistant integration. It manages bidirectional communication through Server-Sent Events (SSE) for server-to-client streaming and POST endpoints for client requests, with built-in session management, automatic expiry cleanup, and integration with the application's memory and database systems. The implementation uses Axum web framework with async/await patterns, broadcast channels for real-time event distribution, and token-based authentication middleware.