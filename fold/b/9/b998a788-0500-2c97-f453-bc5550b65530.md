---
id: b998a788-0500-2c97-f453-bc5550b65530
title: decay.rs
author: system
file_path: src/services/decay.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:06:16.135719200Z
updated_at: 2026-02-03T08:06:16.135719200Z
---

//! Memory decay and retrieval strength calculation.
//!
//! Implements an ACT-R inspired decay model where memory strength decays
//! exponentially over time but is boosted by retrieval frequency.

use chrono::{DateTime, Utc};

/// Default half-life in days for memory decay.
pub const DEFAULT_HALF_LIFE_DAYS: f64 = 30.0;

/// Default weight for strength in score blending.
pub const DEFAULT_STRENGTH_WEIGHT: f64 = 0.3;

/// Minimum strength floor to prevent memories from becoming completely invisible.
pub const MIN_STRENGTH: f64 = 0.01;

/// Maximum strength cap.
pub const MAX_STRENGTH: f64 = 1.0;

/// Configuration for decay calculations.
#[derive(Debug, Clone)]
pub struct DecayConfig {
    /// Half-life in days for exponential decay.
    pub half_life_days: f64,
    /// Weight for blending strength with semantic score (0.0-1.0).
    pub strength_weight: f64,
}

impl Default for DecayConfig {
    fn default() -> Self {
        Self {
            half_life_