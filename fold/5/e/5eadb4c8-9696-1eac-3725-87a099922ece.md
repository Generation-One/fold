---
id: 5eadb4c8-9696-1eac-3725-87a099922ece
title: file_source_integration.rs
author: system
file_path: tests/file_source_integration.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:07:16.031352600Z
updated_at: 2026-02-03T08:07:16.031352600Z
---

//! Integration tests for the FileSourceProvider abstraction.
//!
//! Tests the provider registry, GitHub adapter, and notification handling.

use fold::services::file_source::{
    ChangeEvent, FileChangeStatus, GitHubFileSource, GoogleDriveFileSource, NotificationType,
    ProviderRegistry, PullRequestAction, SourceConfig,
};
use fold::services::FileSourceProvider;

// ============================================================================
// Provider Registry Tests
// ============================================================================

#[test]
fn test_registry_with_defaults() {
    let registry = ProviderRegistry::with_defaults();

    // GitHub should be registered
    assert!(registry.has("github"));
    // Google Drive should be registered
    assert!(registry.has("google-drive"));
    // GitLab not implemented yet
    assert!(!registry.has("gitlab"));
}

#[test]
fn test_registry_get_provider() {
    let registry = ProviderRegistry::with_