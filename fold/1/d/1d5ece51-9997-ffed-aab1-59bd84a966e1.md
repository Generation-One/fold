---
id: 1d5ece51-9997-ffed-aab1-59bd84a966e1
title: project.rs
author: system
file_path: src/services/project.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:07:03.307494600Z
updated_at: 2026-02-03T08:07:03.307494600Z
---

//! Project service for project management.
//!
//! Handles CRUD operations for projects, including initialization
//! of Qdrant collections.

use std::sync::Arc;

use chrono::Utc;
use tracing::{debug, info};

use crate::db::DbPool;
use crate::error::{Error, Result};
use crate::models::{Project, ProjectCreate, ProjectStats};

use super::qdrant::QdrantService;
use super::EmbeddingService;

/// Service for managing projects.
#[derive(Clone)]
pub struct ProjectService {
    db: DbPool,
    qdrant: Arc<QdrantService>,
    embeddings: Arc<EmbeddingService>,
}

impl ProjectService {
    /// Create a new project service.
    pub fn new(
        db: DbPool,
        qdrant: Arc<QdrantService>,
        embeddings: Arc<EmbeddingService>,
    ) -> Self {
        Self { db, qdrant, embeddings }
    }

    /// Create a new project.
    pub async fn create(&self, data: ProjectCreate, owner: Option<String>) -> Result<Project> {
        let mut project = Project::fr