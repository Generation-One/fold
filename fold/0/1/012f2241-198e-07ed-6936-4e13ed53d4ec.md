---
id: 012f2241-198e-07ed-6936-4e13ed53d4ec
title: error.rs
author: system
file_path: src/error.rs
language: rust
memory_type: codebase
created_at: 2026-02-03T08:05:38.156534Z
updated_at: 2026-02-03T08:05:38.156534Z
---

//! Error types for Fold.
//!
//! Uses thiserror for ergonomic error definitions that integrate
//! with axum's response system.

use axum::http::StatusCode;
use axum::response::{IntoResponse, Response};
use axum::Json;
use serde_json::json;

pub type Result<T> = std::result::Result<T, Error>;

#[derive(Debug, thiserror::Error)]
pub enum Error {
    // Auth errors
    #[error("Not authenticated")]
    Unauthenticated,

    #[error("Insufficient permissions")]
    Forbidden,

    #[error("Invalid token")]
    InvalidToken,

    #[error("Token expired")]
    TokenExpired,

    #[error("Invalid credentials")]
    InvalidCredentials,

    // Resource errors
    #[error("Resource not found: {0}")]
    NotFound(String),

    #[error("Resource already exists: {0}")]
    AlreadyExists(String),

    #[error("Conflict: {0}")]
    Conflict(String),

    // Validation errors
    #[error("Validation error: {0}")]
    Validation(String),

    #[error("Inva